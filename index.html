<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>StellAR</title>
  <meta name="Jesper Englund" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body class="main-font">
  <!-- Navbar -->
  <div class="w3-top">
    <div class="w3-bar palette-4 w3-card w3-wide">
      <a class="w3-bar-item w3-button w3-padding-large w3-hide-medium w3-hide-large w3-right" href="javascript:void(0)" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
      <a href="#" class="w3-bar-item w3-button w3-padding-large">HOME</a>
      <a href="#game" class="w3-bar-item w3-button w3-padding-large w3-hide-small">THE GAME</a>
      <a href="#technology" class="w3-bar-item w3-button w3-padding-large w3-hide-small">TECHNOLOGY</a>
      <a href="#aboutus" class="w3-bar-item w3-button w3-padding-large w3-hide-small">ABOUT US</a>
      <a href="#contact" class="w3-bar-item w3-button w3-padding-large w3-hide-small">CONTACT</a>
    </div>
  </div>

  <!-- Navbar on small screens (remove the onclick attribute if you want the navbar to always show on top of the content when clicking on the links) -->
  <div id="navDemo" class="w3-bar-block palette-4 w3-hide w3-hide-large w3-hide-medium w3-top main-font" style="margin-top:46px">
    <a href="#game" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">THE GAME</a>
    <a href="#technology" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">TECHNOLOGY</a>
    <a href="#aboutus" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">ABOUT US</a>
    <a href="#contact" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">CONTACT</a>
  </div>

  <!-- Page content -->
  <div class="w3-content" style="max-width:2000px;margin-top:46px">

    <!-- Home Section -->
    <div class="w3-container w3-center palette-1">
      <p style="font-size:78px">STELLAR</p>
    </div>

    <!-- The Game Section -->
    <div class="w3-container w3-center palette-2 l12" style="width:100% !important; padding:0px" id="game">
      <h2 class="w3-wide header">THE GAME</h2>
      <div class="w3-row" style="margin:0px !important">
        <button class="w3-quarter w3-button clickable-container w3-padding-32" onclick="document.getElementById('firstModal').style.display='block'">
          <p style="font-size:25px">Overview</p>
        </button>
        <button class="w3-quarter w3-button clickable-container w3-padding-32" onclick="document.getElementById('secondModal').style.display='block'">
          <p style="font-size:25px">Technology</p>
        </button>
        <button class="w3-quarter w3-button clickable-container w3-padding-32" onclick="document.getElementById('thirdModal').style.display='block'">
          <p style="font-size:25px">Challenges</p>
        </button>
        <button class="w3-quarter w3-button clickable-container w3-padding-32" onclick="document.getElementById('fourthModal').style.display='block'">
          <p style="font-size:25px">Related Work</p>
        </button>
      </div>
    </div>

    <!-- First Modal -->
    <div id="firstModal" class="w3-modal">
      <div class="w3-modal-content w3-animate-top w3-card-4">
        <header class="w3-container palette-1 w3-center w3-padding-32">
          <span onclick="document.getElementById('firstModal').style.display='none'"
         class="w3-button palette-3 p1 w3-xlarge w3-display-topright">×</span>
          <h2 class="w3-wide">Overview</h2>
          <p class="w3-center"><i>Create your own stellar system in AR</i></p>
        </header>
        <div class="w3-container palette-2 side-padding-64">
          <p>
            <h5>Description</h5>
            StellAR is about creating your own stellar system which you can view in AR.
          </p>
          <p>
            This includes creating and customizing your own planets and to set them out  in the star system on unique orbits.
            In the customization the user can choose between making a solid or a gas planet.
            The user can then change the look and size of the planets.
          </p>
          <p>
            In the stellar system part the user gets to try to set a stable orbit for a planet.
            But there is also the option of just goofing around and making planets crash into each other.
            It's possible to save multiple star systems and also to change the gravity settings for different orbit speeds.
          </p>
          <p>
            In summary StellAR is about creating your own star system with custom planets and experimenting with different orbits for the planets.
          </p>
          <p>
            <h5>Motivations</h5>
            <ul>
              <li>Space is exciting and learning about it is fun!</li>
              <li>We wanted to learn about AR, physical simulations, 3D-modelling in blender, procedural generation in Unity</li>
              <li>The project could  make people more interested in space and physics</li>
            </ul>
          </p>
          <p>
            <h5>Goals</h5>
            <ul>
              <li>Creating a working simulation of a solar system that allows for user input and interaction</li>
              <li>Creating a project and group structure that allows for efficient and productive work</li>
              <li>Create a fun experience</li>
            </ul>
          </p>
          <p>
            <h5>Obstacles & Lessons learned</h5>
            The biggest obstacle we had was that we didn’t figure out data persistence between scenes and sessions until very late in the process,
            which meant that we didn’t have a real start to finish-game loop until the data persistence worked.
            And had we started working on data persistence much earlier, we wouldn't have know what data would have to be saved.
            <p>Another obstacle was of course the one presented by Covid-19 which meant that almost all collaboration had to be done remotely.</p>
            <p>One of the lessons we learned in the process was that better device hardware such as camera and processor makes a better AR experience in the case of tracking.</p>
          </p>
        </div>
        <button class="nextbtn fa fa-4x fa-angle-right w3-display-right" id="ffirst"></button>
        <button class="nextbtn fa fa-4x fa-angle-left w3-display-left" id="bfirst"></button>
      </div>
    </div>

    <!-- Second Modal -->
    <div id="secondModal" class="w3-modal">
      <div class="w3-modal-content w3-animate-top w3-card-4">
        <header class="w3-container palette-1 w3-center w3-padding-32">
          <span onclick="document.getElementById('secondModal').style.display='none'"
         class="w3-button palette-3 p1 w3-xlarge w3-display-topright">×</span>
         <h2 class="w3-wide">Technology</h2>
         <p class="w3-center"><i>Additional information</i></p>
        </header>
        <div class="w3-container palette-2 side-padding-32">
          <p>
          </p>
        </div>
        <button class="nextbtn fa fa-4x fa-angle-right w3-display-right" id="fsecond"></button>
        <button class="nextbtn fa fa-4x fa-angle-left w3-display-left" id="bsecond"></button>
      </div>
    </div>

    <!-- Third Modal -->
    <div id="thirdModal" class="w3-modal">
      <div class="w3-modal-content w3-animate-top w3-card-4">
        <header class="w3-container palette-1 w3-center w3-padding-32">
          <span onclick="document.getElementById('thirdModal').style.display='none'"
         class="w3-button palette-3 p1 w3-xlarge w3-display-topright">×</span>
          <h2 class="w3-wide">Challenges</h2>
          <p class="w3-center"><i>Challenges we've encounterd and overcame during the course of the project</i></p>
        </header>
        <div class="w3-container palette-2 side-padding-32">
          <p>
              <!-- AR TRACKING --->
              <h5>AR-TRACKING</h5>
              During the project we noticed that the AR-tracking provided with ARCore and ARKit is not always the most accurate. We built our app around markerless tracking, thinking that it would be better for a portable experience to not have some arbitrary peripheral. We used the built in feature-point and plane tracking of the AR-toolkits wrapped by ARFoundation. We noticed that reflective surfaces, such as large screens, can be detrimental to the spatial tracking. There were also issues with how much hardware affected the tracking, as we noticed that phones with more advanced cameras usually performed better tracking-wise.
              <br>
  
              <!-- MESH GENERATION --->
              <br>
              <h5>GEOMETRY OF PLANET MESH</h5>
              Finding a good way of representing a sphere with triangles is not completely trivial. We started out using a cube which we deformed into a sphere by setting every point to unit distance from the center. This option gave us a lot of freedom when it came to how detailed we wanted our sphere to be. Simply increasing the number of vertices in every face of the cube we got a finer division. This approach does however give some weird visual artifacts and prominent seems where the cube faces meet.
              <br>
              In the end we ended up with a solution built upon the Ico Sphere. We start out with an icosahedron where every vertex is unit length from the center. We can then divide every triangle into three new triangles and thus increase the detail and make the shape more sphere-like. This approach gives us less control of the resolution since we can only increase the number of triangles three fold every time. We did however get rid of the artifacting from the previous method and overall it looked a lot better. 
              <br>
  
              <!--  SAVING / LOADING--->
              <br>
              <h5>SERIALIZATION AND PERSISTANCE</h5>
              To serialize and create custom data structures to be able to save scene and game object data was fairly straightforward. We converted the data to JSON files which we stored locally on the users device. However, we had some trouble with loading the data correctly since the aesthetic data and physics data were separated. This made it important to load the correct match of aesthetic and physics data to a planet. It also required us to load the data in a specific order and to clean up the scene between loading star systems.
              <br>
  
              <!-- GRAVITY SIM --->
              <br>
              <h5>NEWTONIAN GRAVITY SIM</h5>
              The two major approaches on how to create gravity in Unity are force based and acceleration based. In the force based method forces are applied to objects in a scene in accordance to the Newtonian gravity equation. Then the Unity physics engine automatically calculates the velocity and next position of the objects. In contrast, in the acceleration based methods the acceleration is calculated in accordance with the Newtonian gravity equation. This approach also decouples the calculations from the built-in physics engine. This means that the position and velocity calculations of the objects have to be scripted manually. After experimenting with both methods we decided to go with the acceleration based method. This is because we had problems with the trajectory calculations with the force based method. When the trajectory is calculated the simulation is paused and the trajectory simulation starts in order to predict how a planet would move in the starsystem given the initial velocity and position which is decided by the user. With the force based method the planets did not move exactly with their trajectories, but with the acceleration based method we got more control of the calculations which in the end resulted in a better trajectory. A great source of inspiration was: Sebastian Lague - Coding Adventure
              <br>
              
              <!--  GAS PLANET --->
              <br>
              <h5>GAS PLANET STORM</h5>
              The banding and swirling noise of the gas planets was easy enough to implement in Shadergraph using various generated noise and UV-mapping-tricks. The storms proved to be more challenging. For aesthetic purposes the ideal storm would affect the swirling noise in the bands on the material. This was put to the wayside as it would have required something along the lines of a  fluid simulation which, even though it would have been possible to do, might have affected the performance on less advanced phones. Instead, a method using a simple oval texture that was manipulated with various UV-mapping nodes provided a convincing simili to a storm. This method was based on what reddit user jamqdlaty presents here https://www.reddit.com/r/Unity3D/comments/hiljpk/gas_giant_shader_shadergraph/ after a discussion with them through the forum.
              
          </p>
        </div>
        <button class="nextbtn fa fa-4x fa-angle-right w3-display-right" id="fthird"></button>
        <button class="nextbtn fa fa-4x fa-angle-left w3-display-left" id="bthird"></button>
      </div>
    </div>

    <!-- Fourth Modal -->
    <div id="fourthModal" class="w3-modal">
      <div class="w3-modal-content w3-animate-top w3-card-4">
        <header class="w3-container palette-1 w3-center w3-padding-32">
          <span onclick="document.getElementById('fourthModal').style.display='none'"
         class="w3-button palette-3 p1 w3-xlarge w3-display-topright">×</span>
          <h2 class="w3-wide">Related Work</h2>
          <p class="w3-center"><i>Additional information</i></p>
        </header>
        <div class="w3-container palette-2 side-padding-32">
          <p>Whatever more</p>
        </div>
        <button class="nextbtn fa fa-4x fa-angle-right w3-display-right" id="ffourth"></button>
        <button class="nextbtn fa fa-4x fa-angle-left w3-display-left" id="bfourth"></button>
      </div>
    </div>

    <!-- The Media Section -->
    <div class="palette-1 w3-center w3-container zeropad" id="technology">
      <h2 class="w3-wide header">MEDIA</h2>
        <div class="zeropad" style="margin:0px !important">
        <div class="w3-display-container" style="margin:0px !important">
          <div class="mySlides zeropad">
            <img class="zeropad" src="images/more.png" style="width:100%">
            <h1 class="w3-display-topmiddle">Hej</h1>
          </div>
          <div class="mySlides zeropad">
            <img class="zeropad" src="images/more.png" style="width:100%">
            <h1 class="w3-display-topmiddle">Då</h1>
          </div>
          <button class="w3-button palette-1 w3-display-left" onclick="plusDivs(-1)" style="margin:10px !important">&#10094;</button>
          <button class="w3-button palette-1 w3-display-right" onclick="plusDivs(1)" style="margin:10px !important">&#10095;</button>
        </div>
      </div>
    </div>

    <!-- The About Us Section -->
    <div class="w3-container w3-center palette-2 main-font l12" style="width:100% !important; padding:0px" id="aboutus">
      <h2 class="w3-wide header">ABOUT US</h2>
    </div>

    <!-- The Contact Section -->
    <div class="w3-container w3-padding-32 palette-1" style="width:100%" id="contact">
      <h2 class="w3-wide w3-center">CONTACT</h2>
      <p class="w3-opacity w3-center"><i>Do you want to do business?</i></p>
      <div class="w3-display-container w3-padding-16" style="height:200px">
        <div class="w3-display-middle w3-left" style="width:350px">
          <div class="w3-large w3-margin-bottom">
            <i class="fa fa-map-marker" style="width:30px"></i> Stockholm, Sweden<br>
            <i class="fa fa-envelope" style="width:30px"> </i> anemailadress@kth.se<br>
          </div>
        </div>
      </div>
    </div>

  <!-- End Page Content -->

  <!-- Footer -->
  <footer class="w3-container w3-padding-8 w3-center w3-opacity w3-light-grey w3-xlarge">
    <p class="w3-small">Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a></p>
  </footer>

  <script src="js/script.js"></script>
</body>
</html>
